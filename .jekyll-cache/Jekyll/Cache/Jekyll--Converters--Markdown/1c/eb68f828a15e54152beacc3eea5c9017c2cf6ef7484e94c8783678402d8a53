I"<p>Wordpressをhttps化したものの、一部ページ内の画像がhttpのままのため、ブラウザのアドレスバーに警告が出ていました。</p>

<p>1ページずつ修正するのは論外だし、プラグインを使うのも後々トラブルになりそうだったので、DBを直接弄って解決しました。</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">UPDATE</span> <span class="n">wp_options</span> <span class="k">SET</span> <span class="n">option_value</span> <span class="o">=</span> <span class="k">replace</span><span class="p">(</span><span class="n">option_value</span><span class="p">,</span> <span class="s1">'http://ドメイン'</span><span class="p">,</span> <span class="s1">'https://ドメイン'</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">option_name</span> <span class="o">=</span> <span class="s1">'home'</span> <span class="k">OR</span> <span class="n">option_name</span> <span class="o">=</span> <span class="s1">'siteurl'</span><span class="p">;</span>
<span class="k">UPDATE</span> <span class="n">wp_posts</span> <span class="k">SET</span> <span class="n">post_content</span> <span class="o">=</span> <span class="k">replace</span><span class="p">(</span><span class="n">post_content</span><span class="p">,</span> <span class="s1">'http://ドメイン'</span><span class="p">,</span> <span class="s1">'https://ドメイン'</span><span class="p">);</span>
<span class="k">UPDATE</span> <span class="n">wp_postmeta</span> <span class="k">SET</span> <span class="n">meta_value</span> <span class="o">=</span> <span class="k">replace</span><span class="p">(</span><span class="n">meta_value</span><span class="p">,</span><span class="s1">'http://ドメイン'</span><span class="p">,</span><span class="s1">'https://ドメイン'</span><span class="p">);</span>
<span class="k">UPDATE</span> <span class="n">wp_usermeta</span> <span class="k">SET</span> <span class="n">meta_value</span> <span class="o">=</span> <span class="k">replace</span><span class="p">(</span><span class="n">meta_value</span><span class="p">,</span> <span class="s1">'http://ドメイン'</span><span class="p">,</span><span class="s1">'https://ドメイン'</span><span class="p">);</span>
<span class="k">UPDATE</span> <span class="n">wp_links</span> <span class="k">SET</span> <span class="n">link_url</span> <span class="o">=</span> <span class="k">replace</span><span class="p">(</span><span class="n">link_url</span><span class="p">,</span> <span class="s1">'http://ドメイン'</span><span class="p">,</span><span class="s1">'https://ドメイン'</span><span class="p">);</span>
<span class="k">UPDATE</span> <span class="n">wp_comments</span> <span class="k">SET</span> <span class="n">comment_content</span> <span class="o">=</span> <span class="k">replace</span><span class="p">(</span><span class="n">comment_content</span> <span class="p">,</span> <span class="s1">'http://ドメイン'</span><span class="p">,</span><span class="s1">'https://ドメイン'</span><span class="p">);</span>
<span class="k">UPDATE</span> <span class="n">wp_posts</span> <span class="k">SET</span> <span class="n">post_content</span> <span class="o">=</span> <span class="k">replace</span><span class="p">(</span><span class="n">post_content</span><span class="p">,</span> <span class="s1">'http://ドメイン'</span><span class="p">,</span> <span class="s1">'https://ドメイン'</span><span class="p">);</span>
<span class="k">UPDATE</span> <span class="n">wp_links</span> <span class="k">SET</span> <span class="n">link_image</span> <span class="o">=</span> <span class="k">replace</span><span class="p">(</span><span class="n">link_image</span><span class="p">,</span> <span class="s1">'http://ドメイン'</span><span class="p">,</span><span class="s1">'https://ドメイン'</span><span class="p">);</span>
<span class="k">UPDATE</span> <span class="n">wp_posts</span> <span class="k">SET</span> <span class="n">guid</span> <span class="o">=</span> <span class="k">replace</span><span class="p">(</span><span class="n">guid</span><span class="p">,</span> <span class="s1">'http://ドメイン'</span><span class="p">,</span><span class="s1">'https://ドメイン'</span><span class="p">);</span>
</code></pre></div></div>

:ET